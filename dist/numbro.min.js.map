{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/en-US.js","src/formatting.js","src/globalState.js","src/loading.js","src/manipulating.js","src/numbro.js","src/parsing.js","src/unformatting.js","src/validating.js"],"names":["f","exports","module","define","amd","window","global","self","this","numbro","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","languageTag","delimiters","thousands","decimal","abbreviations","thousand","million","billion","trillion","spaceSeparated","ordinal","number","b","currency","symbol","position","currencyDefaults","thousandSeparated","totalLength","formats","fourDigits","fullWithTwoDecimals","output","mantissa","fullWithTwoDecimalsNoCurrency","fullWithNoDecimals","_format","instance","providedFormat","arguments","undefined","parsing","parseFormat","validating","validateFormat","prefix","postfix","formatNumbro","insertPrefix","insertPostfix","formatCurrency","globalState","formatPercentage","formatByte","formatTime","formatOrdinal","formatNumber","_getDecimalByteUnit","data","bytes","getFormatByteUnits","_value","suffixes","scale","suffix","_getBinaryByteUnit","binary","_getByteUnit","general","value","abs","Math","power","min","pow","max","state","base","baseInfo","_getFormatByteUnits","defaults","currentByteDefaults","currentAbbreviations","spaced","ordinalFn","currentOrdinal","options","Object","assign","defaultOptions","currentOrdinalDefaults","hours","floor","minutes","seconds","round","currentPercentageDefaults","currentCurrency","decimalSeparator","space","currentCurrencyDefaults","computeAverage","_ref","forceAverage","_ref$spaceSeparated","_ref$totalLength","abbreviation","mantissaPrecision","optionalSpace","characteristic","toString","split","zeroes","result","toFixedLarge","precision","_result$split","_result$split2","_slicedToArray","exp","_base$split","_base$split2","_base$split2$","substr","toFixed","indexOf","setMantissaPrecision","optionalMantissa","_result$toString$spli","_result$toString$spli2","currentCharacteristic","_result$toString$spli3","match","setCharacteristicPrecision","optionalCharacteristic","_result$toString$spli4","_result$toString$spli5","currentMantissa","replace","missingZeros","indexesOfGroupSpaces","groupSize","counter","unshift","replaceDelimiters","currentDelimiters","thousandSeparator","thousandsSize","slice","forEach","index","insertAbbreviation","insertSign","negative","_ref2","_ref2$state","_ref2$defaults","currentDefaults","hasZeroFormat","getZeroFormat","isFinite","characteristicPrecision","average","forceSign","decimalSuffixes","marker","format","_len","args","Array","_key","apply","concat","getByteUnit","_len2","_key2","getBinaryByteUnit","_len3","_key3","getDecimalByteUnit","_len4","_key4","chooseLanguage","tag","currentLanguageTag","currentLanguageData","languages","enUS","zeroFormat","globalDefaults","currentLanguage","ordinalDefaults","byteDefaults","percentageDefaults","setDefaults","setZeroFormat","string","languageData","registerLanguage","useLanguage","validateLanguage","setLanguage","fallbackTag","matchingLanguageTag","keys","find","each","_loadLanguagesInNode","tags","console","error","loadLanguagesInNode","multiplier","x","correctionFactor","reduce","prev","next","Infinity","_add","other","isNumbro","factor","acc","_subtract","_multiply","accum","curr","_divide","_set","_difference","clone","add","subtract","multiply","divide","set","difference","Numbro","normalizeInput","input","unformat","isNaN","NaN","version","object","validator","loader","unformatter","formatter","manipulate","prototype","binaryByteUnits","decimalByteUnits","byteUnits","valueOf","language","defaultFormat","defaultCurrencyFormat","validate","parsePrefix","parsePostfix","parseOutput","parseThousandSeparated","parseSpaceSeparated","parseTotalLength","parseCharacteristic","parseMantissa","parseAverage","parseForceAverage","parseOptionalMantissa","parseOptionalCharacteristic","parseNegative","parseForceSign","escapeRegExp","unformatValue","inputString","currencySymbol","stripped","RegExp","allSuffixes","key","possibleOrdinalValue","parseInt","ordinalString","abbreviationKeys","numberOfAbbreviations","_i","matchesTime","segments","unformatTime","validateInput","validateSpec","toValidate","spec","map","type","validFormat","_typeof","restriction","message","validValues","JSON","stringify","children","current","validAbbreviations","validLanguage","validInput","isFormatValid"],"mappings":"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","file":"numbro.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nmodule.exports = {\n    languageTag: \"en-US\",\n    delimiters: {\n        thousands: \",\",\n        decimal: \".\"\n    },\n    abbreviations: {\n        thousand: \"k\",\n        million: \"m\",\n        billion: \"b\",\n        trillion: \"t\"\n    },\n    spaceSeparated: false,\n    ordinal: function(number) {\n        let b = number % 10;\n        return (~~(number % 100 / 10) === 1) ? \"th\" : (b === 1) ? \"st\" : (b === 2) ? \"nd\" : (b === 3) ? \"rd\" : \"th\";\n    },\n    currency: {\n        symbol: \"$\",\n        position: \"prefix\",\n        code: \"USD\"\n    },\n    currencyDefaults: {\n        thousandSeparated: true,\n        totalLength: 4,\n        spaceSeparated: true\n    },\n    formats: {\n        fourDigits: {\n            totalLength: 4,\n            spaceSeparated: true\n        },\n        fullWithTwoDecimals: {\n            output: \"currency\",\n            thousandSeparated: true,\n            mantissa: 2\n        },\n        fullWithTwoDecimalsNoCurrency: {\n            thousandSeparated: true,\n            mantissa: 2\n        },\n        fullWithNoDecimals: {\n            output: \"currency\",\n            thousandSeparated: true,\n            mantissa: 0\n        }\n    }\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst globalState = require(\"./globalState\");\nconst validating = require(\"./validating\");\nconst parsing = require(\"./parsing\");\n\nconst binarySuffixes = [\"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\", \"ZiB\", \"YiB\"];\nconst decimalSuffixes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\nconst bytes = {\n    general: {scale: 1024, suffixes: decimalSuffixes, marker: \"bd\"},\n    binary: {scale: 1024, suffixes: binarySuffixes, marker: \"b\"},\n    decimal: {scale: 1000, suffixes: decimalSuffixes, marker: \"d\"}\n};\n\nconst defaultOptions = {\n    totalLength: 0,\n    characteristic: 0,\n    forceAverage: false,\n    average: false,\n    mantissa: -1,\n    optionalMantissa: true,\n    thousandSeparated: false,\n    spaceSeparated: false,\n    negative: \"sign\",\n    forceSign: false\n};\n\n/**\n * Entry point. Format the provided INSTANCE according to the PROVIDEDFORMAT.\n * This method ensure the prefix and postfix are added as the last step.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} [providedFormat] - specification for formatting\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction format(instance, providedFormat = {}, numbro) {\n    if (typeof providedFormat === \"string\") {\n        providedFormat = parsing.parseFormat(providedFormat);\n    }\n\n    let valid = validating.validateFormat(providedFormat);\n\n    if (!valid) {\n        return \"ERROR: invalid format\";\n    }\n\n    let prefix = providedFormat.prefix || \"\";\n    let postfix = providedFormat.postfix || \"\";\n\n    let output = formatNumbro(instance, providedFormat, numbro);\n    output = insertPrefix(output, prefix);\n    output = insertPostfix(output, postfix);\n    return output;\n}\n\n/**\n * Format the provided INSTANCE according to the PROVIDEDFORMAT.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatNumbro(instance, providedFormat, numbro) {\n    switch (providedFormat.output) {\n        case \"currency\":\n            return formatCurrency(instance, providedFormat, globalState, numbro);\n        case \"percent\":\n            return formatPercentage(instance, providedFormat, globalState, numbro);\n        case \"byte\":\n            return formatByte(instance, providedFormat, globalState, numbro);\n        case \"time\":\n            return formatTime(instance, providedFormat, globalState, numbro);\n        case \"ordinal\":\n            return formatOrdinal(instance, providedFormat, globalState, numbro);\n        case \"number\":\n        default:\n            return formatNumber({\n                instance,\n                providedFormat,\n                numbro\n            });\n    }\n}\n\n/**\n * Get the decimal byte unit (MB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1000).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getDecimalByteUnit(instance) {\n    let data = bytes.decimal;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Get the binary byte unit (MiB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1024).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getBinaryByteUnit(instance) {\n    let data = bytes.binary;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Get the decimal byte unit (MB) for the provided numbro INSTANCE.\n * We go from one unit to another using the decimal system (1024).\n *\n * @param {Numbro} instance - numbro instance to compute\n * @return {String}\n */\nfunction getByteUnit(instance) {\n    let data = bytes.general;\n    return getFormatByteUnits(instance._value, data.suffixes, data.scale).suffix;\n}\n\n/**\n * Return the value and the suffix computed in byte.\n * It uses the SUFFIXES and the SCALE provided.\n *\n * @param {number} value - Number to format\n * @param {[String]} suffixes - List of suffixes\n * @param {number} scale - Number in-between two units\n * @return {{value: Number, suffix: String}}\n */\nfunction getFormatByteUnits(value, suffixes, scale) {\n    let suffix = suffixes[0];\n    let abs = Math.abs(value);\n\n    if (abs >= scale) {\n        for (let power = 1; power < suffixes.length; ++power) {\n            let min = Math.pow(scale, power);\n            let max = Math.pow(scale, power + 1);\n\n            if (abs >= min && abs < max) {\n                suffix = suffixes[power];\n                value = value / min;\n                break;\n            }\n        }\n\n        // values greater than or equal to [scale] YB never set the suffix\n        if (suffix === suffixes[0]) {\n            value = value / Math.pow(scale, suffixes.length - 1);\n            suffix = suffixes[suffixes.length - 1];\n        }\n    }\n\n    return {value, suffix};\n}\n\n/**\n * Format the provided INSTANCE as bytes using the PROVIDEDFORMAT, and STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatByte(instance, providedFormat, state, numbro) {\n    let base = providedFormat.base || \"binary\";\n    let baseInfo = bytes[base];\n\n    let {value, suffix} = getFormatByteUnits(instance._value, baseInfo.suffixes, baseInfo.scale);\n    let output = formatNumber({\n        instance: numbro(value),\n        providedFormat,\n        state,\n        defaults: state.currentByteDefaults()\n    });\n    let abbreviations = state.currentAbbreviations();\n    return `${output}${abbreviations.spaced ? \" \" : \"\"}${suffix}`;\n}\n\n/**\n * Format the provided INSTANCE as an ordinal using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @return {string}\n */\nfunction formatOrdinal(instance, providedFormat, state) {\n    let ordinalFn = state.currentOrdinal();\n    let options = Object.assign({}, defaultOptions, state.currentOrdinalDefaults(), providedFormat);\n\n    let output = formatNumber({\n        instance,\n        providedFormat,\n        state,\n        defaults: state.currentOrdinalDefaults()\n    });\n    let ordinal = ordinalFn(instance._value);\n\n    return `${output}${options.spaceSeparated ? \" \" : \"\"}${ordinal}`;\n}\n\n/**\n * Format the provided INSTANCE as a time HH:MM:SS.\n *\n * @param {Numbro} instance - numbro instance to format\n * @return {string}\n */\nfunction formatTime(instance) {\n    let hours = Math.floor(instance._value / 60 / 60);\n    let minutes = Math.floor((instance._value - (hours * 60 * 60)) / 60);\n    let seconds = Math.round(instance._value - (hours * 60 * 60) - (minutes * 60));\n    return `${hours}:${(minutes < 10) ? \"0\" : \"\"}${minutes}:${(seconds < 10) ? \"0\" : \"\"}${seconds}`;\n}\n\n/**\n * Format the provided INSTANCE as a percentage using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param numbro - the numbro singleton\n * @return {string}\n */\nfunction formatPercentage(instance, providedFormat, state, numbro) {\n    let output = formatNumber({\n        instance: numbro(instance._value * 100),\n        providedFormat,\n        state,\n        defaults: state.currentPercentageDefaults()\n    });\n    let options = Object.assign({}, defaultOptions, state.currentPercentageDefaults(), providedFormat);\n    return `${output}${options.spaceSeparated ? \" \" : \"\"}%`;\n}\n\n/**\n * Format the provided INSTANCE as a percentage using the PROVIDEDFORMAT,\n * and the STATE.\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} providedFormat - specification for formatting\n * @param {globalState} state - shared state of the library\n * @return {string}\n */\nfunction formatCurrency(instance, providedFormat, state) {\n    const currentCurrency = state.currentCurrency();\n    let options = Object.assign({}, defaultOptions, state.currentCurrencyDefaults(), providedFormat);\n    let decimalSeparator = undefined;\n    let space = \"\";\n\n    if (options.spaceSeparated) {\n        space = \" \";\n    }\n\n    if (currentCurrency.position === \"infix\") {\n        decimalSeparator = space + currentCurrency.symbol + space;\n    }\n\n    let output = formatNumber({\n        instance,\n        providedFormat,\n        state,\n        decimalSeparator,\n        defaults: state.currentCurrencyDefaults()\n    });\n\n    if (currentCurrency.position === \"prefix\") {\n        output = currentCurrency.symbol + space + output;\n    }\n\n    if (currentCurrency.position === \"postfix\") {\n        output = output + space + currentCurrency.symbol;\n    }\n\n    return output;\n}\n\n/**\n * Compute the average value out of VALUE.\n * The other parameters are computation options.\n *\n * @param {number} value - value to compute\n * @param {string} [forceAverage] - forced unit used to compute\n * @param {{}} abbreviations - part of the language specification\n * @param {boolean} spaceSeparated - `true` if a space must be inserted between the value and the abbreviation\n * @param {number} [totalLength] - total length of the output including the characteristic and the mantissa\n * @return {{value: number, abbreviation: string, mantissaPrecision: number}}\n */\nfunction computeAverage({value, forceAverage, abbreviations, spaceSeparated = false, totalLength = 0}) {\n    let abbreviation = \"\";\n    let abs = Math.abs(value);\n    let mantissaPrecision = -1;\n\n    if ((abs >= Math.pow(10, 12) && !forceAverage) || (forceAverage === \"trillion\")) {\n        // trillion\n        abbreviation = abbreviations.trillion;\n        value = value / Math.pow(10, 12);\n    } else if ((abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !forceAverage) || (forceAverage === \"billion\")) {\n        // billion\n        abbreviation = abbreviations.billion;\n        value = value / Math.pow(10, 9);\n    } else if ((abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !forceAverage) || (forceAverage === \"million\")) {\n        // million\n        abbreviation = abbreviations.million;\n        value = value / Math.pow(10, 6);\n    } else if ((abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !forceAverage) || (forceAverage === \"thousand\")) {\n        // thousand\n        abbreviation = abbreviations.thousand;\n        value = value / Math.pow(10, 3);\n    }\n\n    let optionalSpace = spaceSeparated ? \" \" : \"\";\n\n    if (abbreviation) {\n        abbreviation = optionalSpace + abbreviation;\n    }\n\n    if (totalLength) {\n        let characteristic = value.toString().split(\".\")[0];\n        mantissaPrecision = Math.max(totalLength - characteristic.length, 0);\n    }\n\n    return {value, abbreviation, mantissaPrecision};\n}\n\n/**\n * Return a string of NUMBER zero.\n *\n * @param {number} number - Length of the output\n * @return {string}\n */\nfunction zeroes(number) {\n    let result = \"\";\n    for (let i = 0; i < number; i++) {\n        result += \"0\";\n    }\n\n    return result;\n}\n\n/**\n * Return a string representing VALUE with a PRECISION-long mantissa.\n * This method is for large/small numbers only (a.k.a. including a \"e\").\n *\n * @param {number} value - number to precise\n * @param {number} precision - desired length for the mantissa\n * @return {string}\n */\nfunction toFixedLarge(value, precision) {\n    let result = value.toString();\n\n    let [base, exp] = result.split(\"e\");\n\n    let [characteristic, mantissa = \"\"] = base.split(\".\");\n\n    if (+exp > 0) {\n        result = characteristic + mantissa + zeroes(exp - mantissa.length);\n    } else {\n        let prefix = \".\";\n\n        if (+characteristic < 0) {\n            prefix = `-0${prefix}`;\n        } else {\n            prefix = `0${prefix}`;\n        }\n\n        let suffix = (zeroes(-exp - 1) + Math.abs(characteristic) + mantissa).substr(0, precision);\n        if (suffix.length < precision) {\n            suffix += zeroes(precision - suffix.length);\n        }\n        result = prefix + suffix;\n    }\n\n    if (+exp > 0 && precision > 0) {\n        result += `.${zeroes(precision)}`;\n    }\n\n    return result;\n}\n\n/**\n * Return a string representing VALUE with a PRECISION-long mantissa.\n *\n * @param {number} value - number to precise\n * @param {number} precision - desired length for the mantissa\n * @return {string}\n */\nfunction toFixed(value, precision) {\n    if (value.toString().indexOf(\"e\") !== -1) {\n        return toFixedLarge(value, precision);\n    }\n\n    return (Math.round(+`${value}e+${precision}`) / (Math.pow(10, precision))).toFixed(precision);\n}\n\n/**\n * Return the current OUTPUT with a mantissa precions of PRECISION.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} optionalMantissa - `true` if the mantissa is omitted when it's only zeroes\n * @param {number} precision - desired precision of the mantissa\n * @return {string}\n */\nfunction setMantissaPrecision(output, value, optionalMantissa, precision) {\n    if (precision === -1) {\n        return output;\n    }\n\n    let result = toFixed(value, precision);\n    let [currentCharacteristic, currentMantissa = \"\"] = result.toString().split(\".\");\n\n    if (currentMantissa.match(/^0+$/) && optionalMantissa) {\n        return currentCharacteristic;\n    }\n\n    return result.toString();\n}\n\n/**\n * Return the current OUTPUT with a characteristic precions of PRECISION.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} optionalCharacteristic - `true` if the characteristic is omitted when it's only zeroes\n * @param {number} precision - desired precision of the characteristic\n * @return {string}\n */\nfunction setCharacteristicPrecision(output, value, optionalCharacteristic, precision) {\n    let result = output;\n    let [currentCharacteristic, currentMantissa] = result.toString().split(\".\");\n\n    if (currentCharacteristic.match(/^-?0$/) && optionalCharacteristic) {\n        if (!currentMantissa) {\n            return currentCharacteristic.replace(\"0\", \"\");\n        }\n\n        return `${currentCharacteristic.replace(\"0\", \"\")}.${currentMantissa}`;\n    }\n\n    if (currentCharacteristic.length < precision) {\n        let missingZeros = precision - currentCharacteristic.length;\n        for (let i = 0; i < missingZeros; i++) {\n            result = `0${result}`;\n        }\n    }\n\n    return result.toString();\n}\n\n/**\n * Return the indexes where are the group separations after splitting\n * `totalLength` in group of `groupSize` size.\n * Important: we start grouping from the right hand side.\n *\n * @param {number} totalLength - total length of the characteristic to split\n * @param {number} groupSize - length of each group\n * @return {[number]}\n */\nfunction indexesOfGroupSpaces(totalLength, groupSize) {\n    let result = [];\n    let counter = 0;\n    for (let i = totalLength; i > 0; i--) {\n        if (counter === groupSize) {\n            result.unshift(i);\n            counter = 0;\n        }\n        counter++;\n    }\n\n    return result;\n}\n\n/**\n * Replace the decimal separator with DECIMALSEPARATOR and insert thousand\n * separators.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {boolean} thousandSeparated - `true` if the characteristic must be separated\n * @param {globalState} state - shared state of the library\n * @param {string} decimalSeparator - string to use as decimal separator\n * @return {string}\n */\nfunction replaceDelimiters(output, value, thousandSeparated, state, decimalSeparator) {\n    let delimiters = state.currentDelimiters();\n    let thousandSeparator = delimiters.thousands;\n    decimalSeparator = decimalSeparator || delimiters.decimal;\n    let thousandsSize = delimiters.thousandsSize || 3;\n\n    let result = output.toString();\n    let characteristic = result.split(\".\")[0];\n    let mantissa = result.split(\".\")[1];\n\n    if (thousandSeparated) {\n        if (value < 0) {\n            // Remove the minus sign\n            characteristic = characteristic.slice(1);\n        }\n\n        let indexesToInsertThousandDelimiters = indexesOfGroupSpaces(characteristic.length, thousandsSize);\n        indexesToInsertThousandDelimiters.forEach((position, index) => {\n            characteristic = characteristic.slice(0, position + index) + thousandSeparator + characteristic.slice(position + index);\n        });\n\n        if (value < 0) {\n            // Add back the minus sign\n            characteristic = `-${characteristic}`;\n        }\n    }\n\n    if (!mantissa) {\n        result = characteristic;\n    } else {\n        result = characteristic + decimalSeparator + mantissa;\n    }\n    return result;\n}\n\n/**\n * Insert the provided ABBREVIATION at the end of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} abbreviation - abbreviation to append\n * @return {*}\n */\nfunction insertAbbreviation(output, abbreviation) {\n    return output + abbreviation;\n}\n\n/**\n * Insert the positive/negative sign according to the NEGATIVE flag.\n * If the value is negative but still output as 0, the negative sign is removed.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {number} value - number being currently formatted\n * @param {string} negative - flag for the negative form (\"sign\" or \"parenthesis\")\n * @return {*}\n */\nfunction insertSign(output, value, negative) {\n    if (value === 0) {\n        return output;\n    }\n\n    if (+output === 0) {\n        return output.replace(\"-\", \"\");\n    }\n\n    if (value > 0) {\n        return `+${output}`;\n    }\n\n    if (negative === \"sign\") {\n        return output;\n    }\n\n    return `(${output.replace(\"-\", \"\")})`;\n}\n\n/**\n * Insert the provided PREFIX at the start of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} prefix - abbreviation to prepend\n * @return {*}\n */\nfunction insertPrefix(output, prefix) {\n    return prefix + output;\n}\n\n/**\n * Insert the provided POSTFIX at the end of OUTPUT.\n *\n * @param {string} output - output being build in the process of formatting\n * @param {string} postfix - abbreviation to append\n * @return {*}\n */\nfunction insertPostfix(output, postfix) {\n    return output + postfix;\n}\n\n/**\n * Format the provided INSTANCE as a number using the PROVIDEDFORMAT,\n * and the STATE.\n * This is the key method of the framework!\n *\n * @param {Numbro} instance - numbro instance to format\n * @param {{}} [providedFormat] - specification for formatting\n * @param {globalState} state - shared state of the library\n * @param {string} decimalSeparator - string to use as decimal separator\n * @param {{}} defaults - Set of default values used for formatting\n * @return {string}\n */\nfunction formatNumber({instance, providedFormat, state = globalState, decimalSeparator, defaults = state.currentDefaults()}) {\n    let value = instance._value;\n\n    if (value === 0 && state.hasZeroFormat()) {\n        return state.getZeroFormat();\n    }\n\n    if (!isFinite(value)) {\n        return value.toString();\n    }\n\n    let options = Object.assign({}, defaultOptions, defaults, providedFormat);\n\n    let totalLength = options.totalLength;\n    let characteristicPrecision = totalLength ? 0 : options.characteristic;\n    let optionalCharacteristic = options.optionalCharacteristic;\n    let forceAverage = options.forceAverage;\n    let average = !!totalLength || !!forceAverage || options.average;\n\n    // default when averaging is to chop off decimals\n    let mantissaPrecision = totalLength ? -1 : (average && providedFormat.mantissa === undefined ? 0 : options.mantissa);\n    let optionalMantissa = totalLength ? false : options.optionalMantissa;\n    let thousandSeparated = options.thousandSeparated;\n    let spaceSeparated = options.spaceSeparated;\n    let negative = options.negative;\n    let forceSign = options.forceSign;\n\n    let abbreviation = \"\";\n\n    if (average) {\n        let data = computeAverage({\n            value,\n            forceAverage,\n            abbreviations: state.currentAbbreviations(),\n            spaceSeparated: spaceSeparated,\n            totalLength\n        });\n\n        value = data.value;\n        abbreviation = data.abbreviation;\n\n        if (totalLength) {\n            mantissaPrecision = data.mantissaPrecision;\n        }\n    }\n\n    // Set mantissa precision\n    let output = setMantissaPrecision(value.toString(), value, optionalMantissa, mantissaPrecision);\n    output = setCharacteristicPrecision(output, value, optionalCharacteristic, characteristicPrecision);\n    output = replaceDelimiters(output, value, thousandSeparated, state, decimalSeparator);\n\n    if (average) {\n        output = insertAbbreviation(output, abbreviation);\n    }\n\n    if (forceSign || value < 0) {\n        output = insertSign(output, value, negative);\n    }\n\n    return output;\n}\n\nmodule.exports = (numbro) => ({\n    format: (...args) => format(...args, numbro),\n    getByteUnit: (...args) => getByteUnit(...args, numbro),\n    getBinaryByteUnit: (...args) => getBinaryByteUnit(...args, numbro),\n    getDecimalByteUnit: (...args) => getDecimalByteUnit(...args, numbro)\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst enUS = require(\"./en-US\");\nconst validating = require(\"./validating\");\nconst parsing = require(\"./parsing\");\n\nlet state = {};\n\nlet currentLanguageTag = undefined;\nlet languages = {};\n\nlet zeroFormat = null;\n\nlet globalDefaults = {};\n\nfunction chooseLanguage(tag) { currentLanguageTag = tag; }\n\nfunction currentLanguageData() { return languages[currentLanguageTag]; }\n\n/**\n * Return all the register languages\n *\n * @return {{}}\n */\nstate.languages = () => Object.assign({}, languages);\n\n//\n// Current language accessors\n//\n\n/**\n * Return the current language tag\n *\n * @return {string}\n */\nstate.currentLanguage = () => currentLanguageTag;\n\n/**\n * Return the current language currency data\n *\n * @return {{}}\n */\nstate.currentCurrency = () => currentLanguageData().currency;\n\n/**\n * Return the current language abbreviations data\n *\n * @return {{}}\n */\nstate.currentAbbreviations = () => currentLanguageData().abbreviations;\n\n/**\n * Return the current language delimiters data\n *\n * @return {{}}\n */\nstate.currentDelimiters = () => currentLanguageData().delimiters;\n\n/**\n * Return the current language ordinal function\n *\n * @return {function}\n */\nstate.currentOrdinal = () => currentLanguageData().ordinal;\n\n//\n// Defaults\n//\n\n/**\n * Return the current formatting defaults.\n * Use first uses the current language default, then fallbacks to the globally defined defaults.\n *\n * @return {{}}\n */\nstate.currentDefaults = () => Object.assign({}, currentLanguageData().defaults, globalDefaults);\n\n/**\n * Return the current ordinal specific formatting defaults.\n * Use first uses the current language ordinal default, then fallbacks to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentOrdinalDefaults = () => Object.assign({}, state.currentDefaults(), currentLanguageData().ordinalDefaults);\n\n/**\n * Return the current byte specific formatting defaults.\n * Use first uses the current language byte default, then fallbacks to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentByteDefaults = () => Object.assign({}, state.currentDefaults(), currentLanguageData().byteDefaults);\n\n/**\n * Return the current percentage specific formatting defaults.\n * Use first uses the current language percentage default, then fallbacks to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentPercentageDefaults = () => Object.assign({}, state.currentDefaults(), currentLanguageData().percentageDefaults);\n\n/**\n * Return the current currency specific formatting defaults.\n * Use first uses the current language currency default, then fallbacks to the regular defaults.\n *\n * @return {{}}\n */\nstate.currentCurrencyDefaults = () => Object.assign({}, state.currentDefaults(), currentLanguageData().currencyDefaults);\n\n/**\n * Set the global formatting defaults.\n *\n * @param {{}|string} format - formatting options to use as defaults\n */\nstate.setDefaults = (format) => {\n    format = parsing.parseFormat(format);\n    if (validating.validateFormat(format)) {\n        globalDefaults = format;\n    }\n};\n\n//\n// Zero format\n//\n\n/**\n * Return the format string for 0.\n *\n * @return {string}\n */\nstate.getZeroFormat = () => zeroFormat;\n\n/**\n * Set a STRING to output when the value is 0.\n *\n * @param {{}|string} string - string to set\n */\nstate.setZeroFormat = (string) => zeroFormat = typeof(string) === \"string\" ? string : null;\n\n/**\n * Return true if a format for 0 has been set already.\n *\n * @return {boolean}\n */\nstate.hasZeroFormat = () => zeroFormat !== null;\n\n//\n// Getters/Setters\n//\n\n/**\n * Return the language data for the provided TAG.\n * Return the current language data if no tag is provided.\n *\n * Throw an error if the tag doesn't match any registered language.\n *\n * @param {string} [tag] - language tag of a registered language\n * @return {{}}\n */\nstate.languageData = (tag) => {\n    if (tag) {\n        if (languages[tag]) {\n            return languages[tag];\n        }\n        throw new Error(`Unknown tag \"${tag}\"`);\n    }\n\n    return currentLanguageData();\n};\n\n/**\n * Register the provided DATA as a language if and only if the data is valid.\n * If the data is not valid, an error is thrown.\n *\n * When USELANGUAGE is true, the registered language is then used.\n *\n * @param {{}} data - language data to register\n * @param {boolean} [useLanguage] - `true` if the provided data should become the current language\n */\nstate.registerLanguage = (data, useLanguage = false) => {\n    if (!validating.validateLanguage(data)) {\n        throw new Error(\"Invalid language data\");\n    }\n\n    languages[data.languageTag] = data;\n\n    if (useLanguage) {\n        chooseLanguage(data.languageTag);\n    }\n};\n\n/**\n * Set the current language according to TAG.\n * If TAG doesn't match a registered language, another language matching\n * the \"language\" part of the tag (according to BCP47: https://tools.ietf.org/rfc/bcp/bcp47.txt).\n * If none, the FALLBACKTAG is used. If the FALLBACKTAG doesn't match a register language,\n * `en-US` is finally used.\n *\n * @param tag\n * @param fallbackTag\n */\nstate.setLanguage = (tag, fallbackTag = enUS.languageTag) => {\n    if (!languages[tag]) {\n        let suffix = tag.split(\"-\")[0];\n\n        let matchingLanguageTag = Object.keys(languages).find(each => {\n            return each.split(\"-\")[0] === suffix;\n        });\n\n        if (!languages[matchingLanguageTag]) {\n            chooseLanguage(fallbackTag);\n            return;\n        }\n\n        chooseLanguage(matchingLanguageTag);\n    }\n\n    chooseLanguage(tag);\n};\n\nstate.registerLanguage(enUS);\ncurrentLanguageTag = enUS.languageTag;\n\nmodule.exports = state;\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Load languages matching TAGS. Silently pass over the failing load.\n *\n * We assume here that we are in a node environment, so we don't check for it.\n * @param {[String]} tags - list of tags to load\n * @param {Numbro} numbro - the numbro singleton\n */\nfunction loadLanguagesInNode(tags, numbro) {\n    tags.forEach((tag) => {\n        let data = undefined;\n        try {\n            data = require(`../languages/${tag}`);\n        } catch (e) {\n            console.error(`Unable to load \"${tag}\". No matching language file found.`); // eslint-disable-line no-console\n        }\n\n        if (data) {\n            numbro.registerLanguage(data);\n        }\n    });\n}\n\nmodule.exports = (numbro) => ({\n    loadLanguagesInNode: (tags) => loadLanguagesInNode(tags, numbro)\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n// Todo: add BigNumber support (https://github.com/MikeMcl/bignumber.js/)\n\nfunction multiplier(x) {\n    let parts = x.toString().split(\".\");\n    let mantissa = parts[1];\n\n    if (!mantissa) {\n        return 1;\n    }\n\n    return Math.pow(10, mantissa.length);\n}\n\nfunction correctionFactor(...args) {\n    let smaller = args.reduce((prev, next) => {\n        let mp = multiplier(prev);\n        let mn = multiplier(next);\n        return mp > mn ? prev : next;\n    }, -Infinity);\n\n    return multiplier(smaller);\n}\n\nfunction add(n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    let factor = correctionFactor(n._value, value);\n\n    function callback(acc, number) {\n        return acc + factor * number;\n    }\n\n    n._value = [n._value, value].reduce(callback, 0) / factor;\n    return n;\n}\n\nfunction subtract(n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    let factor = correctionFactor(n._value, value);\n\n    function callback(acc, number) {\n        return acc - factor * number;\n    }\n\n    n._value = [value].reduce(callback, n._value * factor) / factor;\n    return n;\n}\n\nfunction multiply(n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    function callback(accum, curr) {\n        let factor = correctionFactor(accum, curr);\n        let result = accum * factor;\n        result *= curr * factor;\n        result /= factor * factor;\n\n        return result;\n    }\n\n    n._value = [n._value, value].reduce(callback, 1);\n    return n;\n}\n\nfunction divide(n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    function callback(accum, curr) {\n        let factor = correctionFactor(accum, curr);\n        return (accum * factor) / (curr * factor);\n    }\n\n    n._value = [n._value, value].reduce(callback);\n    return n;\n}\n\nfunction set (n, other, numbro) {\n    let value = other;\n\n    if (numbro.isNumbro(other)) {\n        value = other._value;\n    }\n\n    n._value = value;\n    return n;\n}\n\nfunction difference(n, other, numbro) {\n    let clone = numbro(n._value);\n    subtract(clone, other, numbro);\n\n    return Math.abs(clone._value);\n}\n\nmodule.exports = numbro => ({\n    add: (n, other) => add(n, other, numbro),\n    subtract: (n, other) => subtract(n, other, numbro),\n    multiply: (n, other) => multiply(n, other, numbro),\n    divide: (n, other) => divide(n, other, numbro),\n    set: (n, other) => set(n, other, numbro),\n    difference: (n, other) => difference(n, other, numbro)\n});\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst VERSION = \"2.0.0\";\n\n//\n// Constructor\n//\n\nfunction Numbro(number) {\n    this._value = number;\n}\n\nfunction normalizeInput(input) {\n    let result = input;\n    if (numbro.isNumbro(input)) {\n        result = input._value;\n    } else if (typeof input === \"string\") {\n        result = numbro.unformat(input);\n    } else if (isNaN(input)) {\n        result = NaN;\n    }\n\n    return result;\n}\n\nfunction numbro(input) {\n    return new Numbro(normalizeInput(input));\n}\n\nnumbro.version = VERSION;\n\nnumbro.isNumbro = function(object) {\n    return object instanceof Numbro;\n};\n\nconst globalState = require(\"./globalState\");\nconst validator = require(\"./validating\");\nconst loader = require(\"./loading\")(numbro);\nconst unformatter = require(\"./unformatting\");\nlet formatter = require(\"./formatting\")(numbro);\nlet manipulate = require(\"./manipulating\")(numbro);\n\nNumbro.prototype = {\n    clone: function() { return numbro(this._value); },\n    format: function(format = {}) { return formatter.format(this, format); },\n    formatCurrency: function(format = {}) {\n        format.output = \"currency\";\n        return formatter.format(this, format);\n    },\n    formatTime: function(format = {}) {\n        format.output = \"time\";\n        return formatter.format(this, format);\n    },\n    binaryByteUnits: function() { return formatter.getBinaryByteUnit(this);},\n    decimalByteUnits: function() { return formatter.getDecimalByteUnit(this);},\n    byteUnits: function() { return formatter.getByteUnit(this);},\n    difference: function(other) { return manipulate.difference(this, other); },\n    add: function(other) { return manipulate.add(this, other); },\n    subtract: function(other) { return manipulate.subtract(this, other); },\n    multiply: function(other) { return manipulate.multiply(this, other); },\n    divide: function(other) { return manipulate.divide(this, other); },\n    set: function(input) { return manipulate.set(this, normalizeInput(input)); },\n    value: function() { return this._value; },\n    valueOf: function() { return this._value; }\n};\n\n//\n// `numbro` static methods\n//\n\nnumbro.language = globalState.currentLanguage;\nnumbro.registerLanguage = globalState.registerLanguage;\nnumbro.setLanguage = globalState.setLanguage;\nnumbro.languages = globalState.languages;\nnumbro.languageData = globalState.languageData;\nnumbro.zeroFormat = globalState.setZeroFormat;\nnumbro.defaultFormat = globalState.currentDefaults;\nnumbro.setDefaults = globalState.setDefaults;\nnumbro.defaultCurrencyFormat = globalState.currentCurrencyDefaults;\nnumbro.validate = validator.validate;\nnumbro.loadLanguagesInNode = loader.loadLanguagesInNode;\nnumbro.unformat = unformatter.unformat;\n\nmodule.exports = numbro;\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nfunction parsePrefix(string, result) {\n    let match = string.match(/^{([^}]*)}/);\n    if (match) {\n        result.prefix = match[1];\n        return string.slice(match[0].length);\n    }\n\n    return string;\n}\n\nfunction parsePostfix(string, result) {\n    let match = string.match(/{([^}]*)}$/);\n    if (match) {\n        result.postfix = match[1];\n\n        return string.slice(0, -match[0].length);\n    }\n\n    return string;\n}\n\nfunction parseOutput(string, result) {\n    if (string.indexOf(\"$\") !== -1) {\n        result.output = \"currency\";\n        return;\n    }\n\n    if (string.indexOf(\"%\") !== -1) {\n        result.output = \"percent\";\n        return;\n    }\n\n    if (string.indexOf(\"bd\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"general\";\n        return;\n    }\n\n    if (string.indexOf(\"b\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"binary\";\n        return;\n\n    }\n\n    if (string.indexOf(\"d\") !== -1) {\n        result.output = \"byte\";\n        result.base = \"decimal\";\n        return;\n\n    }\n\n    if (string.indexOf(\":\") !== -1) {\n        result.output = \"time\";\n        return;\n    }\n\n    if (string.indexOf(\"o\") !== -1) {\n        result.output = \"ordinal\";\n    }\n}\n\nfunction parseThousandSeparated(string, result) {\n    if (string.indexOf(\",\") !== -1) {\n        result.thousandSeparated = true;\n    }\n}\n\nfunction parseSpaceSeparated(string, result) {\n    if (string.indexOf(\" \") !== -1) {\n        result.spaceSeparated = true;\n    }\n}\n\nfunction parseTotalLength(string, result) {\n    let match = string.match(/[1-9]+[0-9]*/);\n\n    if (match) {\n        result.totalLength = +match[0];\n    }\n}\n\nfunction parseCharacteristic(string, result) {\n    let characteristic = string.split(\".\")[0];\n    let match = characteristic.match(/0+/);\n    if (match) {\n        result.characteristic = match[0].length;\n    }\n}\n\nfunction parseMantissa(string, result) {\n    let mantissa = string.split(\".\")[1];\n    if (mantissa) {\n        let match = mantissa.match(/0+/);\n        if (match) {\n            result.mantissa = match[0].length;\n        }\n    }\n}\n\nfunction parseAverage(string, result) {\n    if (string.indexOf(\"a\") !== -1) {\n        result.average = true;\n    }\n}\n\nfunction parseForceAverage(string, result) {\n    if (string.indexOf(\"K\") !== -1) {\n        result.forceAverage = \"thousand\";\n    } else if (string.indexOf(\"M\") !== -1) {\n        result.forceAverage = \"million\";\n    } else if (string.indexOf(\"B\") !== -1) {\n        result.forceAverage = \"billion\";\n    } else if (string.indexOf(\"T\") !== -1) {\n        result.forceAverage = \"trillion\";\n    }\n}\n\nfunction parseOptionalMantissa(string, result) {\n    if (string.match(/\\[\\.]/)) {\n        result.optionalMantissa = true;\n    } else if (string.match(/\\./)) {\n        result.optionalMantissa = false;\n    }\n}\n\nfunction parseOptionalCharacteristic(string, result) {\n    if (string.indexOf(\".\") !== -1) {\n        let characteristic = string.split(\".\")[0];\n        result.optionalCharacteristic = characteristic.indexOf(\"0\") === -1;\n    }\n}\n\nfunction parseNegative(string, result) {\n    if (string.match(/^\\+?\\([^)]*\\)$/)) {\n        result.negative = \"parenthesis\";\n    }\n    if (string.match(/^\\+?-/)) {\n        result.negative = \"sign\";\n    }\n}\n\nfunction parseForceSign(string, result) {\n    if (string.match(/^\\+/)) {\n        result.forceSign = true;\n    }\n}\n\nfunction parseFormat(string, result = {}) {\n    if (typeof string !== \"string\") {\n        return string;\n    }\n\n    string = parsePrefix(string, result);\n    string = parsePostfix(string, result);\n    parseOutput(string, result);\n    parseTotalLength(string, result);\n    parseCharacteristic(string, result);\n    parseOptionalCharacteristic(string, result);\n    parseAverage(string, result);\n    parseForceAverage(string, result);\n    parseMantissa(string, result);\n    parseOptionalMantissa(string, result);\n    parseThousandSeparated(string, result);\n    parseSpaceSeparated(string, result);\n    parseNegative(string, result);\n    parseForceSign(string, result);\n\n    return result;\n}\n\nmodule.exports = {\n    parseFormat\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst allSuffixes = [\n    {key: \"ZiB\", factor: Math.pow(1024, 7)},\n    {key: \"ZB\", factor: Math.pow(1000, 7)},\n    {key: \"YiB\", factor: Math.pow(1024, 8)},\n    {key: \"YB\", factor: Math.pow(1000, 8)},\n    {key: \"TiB\", factor: Math.pow(1024, 4)},\n    {key: \"TB\", factor: Math.pow(1000, 4)},\n    {key: \"PiB\", factor: Math.pow(1024, 5)},\n    {key: \"PB\", factor: Math.pow(1000, 5)},\n    {key: \"MiB\", factor: Math.pow(1024, 2)},\n    {key: \"MB\", factor: Math.pow(1000, 2)},\n    {key: \"KiB\", factor: Math.pow(1024, 1)},\n    {key: \"KB\", factor: Math.pow(1000, 1)},\n    {key: \"GiB\", factor: Math.pow(1024, 3)},\n    {key: \"GB\", factor: Math.pow(1000, 3)},\n    {key: \"EiB\", factor: Math.pow(1024, 6)},\n    {key: \"EB\", factor: Math.pow(1000, 6)},\n    {key: \"B\", factor: 1}\n];\n\nfunction escapeRegExp(s) {\n    return s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\n\nfunction unformatValue(inputString, delimiters, currencySymbol = \"\", ordinal, zeroFormat, abbreviations, format) {\n    if (inputString === \"\") {\n        return undefined;\n    }\n\n    if (!isNaN(+inputString)) {\n        return +inputString;\n    }\n\n    // Zero Format\n\n    if (inputString === zeroFormat) {\n        return 0;\n    }\n\n    // Negative\n\n    let match = inputString.match(/\\(([^)]*)\\)/);\n\n    if (match) {\n        return -1 * unformatValue(match[1], delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n    }\n\n    // Currency\n\n    let stripped = inputString.replace(currencySymbol, \"\");\n\n    if (stripped !== inputString) {\n        return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n    }\n\n    // Thousand separators\n\n    stripped = inputString.replace(new RegExp(escapeRegExp(delimiters.thousands), \"g\"), \"\");\n\n    if (stripped !== inputString) {\n        return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n    }\n\n    // Decimal\n\n    stripped = inputString.replace(delimiters.decimal, \".\");\n\n    if (stripped !== inputString) {\n        return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n    }\n\n    // Byte\n\n    for (let i = 0; i < allSuffixes.length; i++) {\n        let suffix = allSuffixes[i];\n        stripped = inputString.replace(suffix.key, \"\");\n\n        if (stripped !== inputString) {\n            return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) * suffix.factor;\n        }\n    }\n\n    // Percent\n\n    stripped = inputString.replace(\"%\", \"\");\n\n    if (stripped !== inputString) {\n        return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) / 100;\n    }\n\n    // Ordinal\n\n    let possibleOrdinalValue = parseInt(inputString, 10);\n\n    if (isNaN(possibleOrdinalValue)) {\n        return undefined;\n    }\n\n    let ordinalString = ordinal(possibleOrdinalValue);\n    stripped = inputString.replace(ordinalString, \"\");\n\n    if (stripped !== inputString) {\n        return unformatValue(stripped, delimiters, currencySymbol, format);\n    }\n\n    // Average\n    let abbreviationKeys = Object.keys(abbreviations);\n    let numberOfAbbreviations = abbreviationKeys.length;\n\n    for (let i = 0; i < numberOfAbbreviations; i++) {\n        let key = abbreviationKeys[i];\n\n        stripped = inputString.replace(abbreviations[key], \"\");\n\n        if (stripped !== inputString) {\n            let factor = undefined;\n            switch (key) { // eslint-disable-line default-case\n                case \"thousand\":\n                    factor = Math.pow(1000, 1);\n                    break;\n                case \"million\":\n                    factor = Math.pow(1000, 2);\n                    break;\n                case \"billion\":\n                    factor = Math.pow(1000, 3);\n                    break;\n                case \"trillion\":\n                    factor = Math.pow(1000, 4);\n                    break;\n            }\n            return unformatValue(stripped, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format) * factor;\n        }\n    }\n\n    return undefined;\n}\n\nfunction matchesTime(inputString, delimiters) {\n    let separators = inputString.indexOf(\":\") && delimiters.thousands !== \":\";\n\n    if (!separators) {\n        return false;\n    }\n\n    let segments = inputString.split(\":\");\n    if (segments.length !== 3) {\n        return false;\n    }\n\n    let hours = +segments[0];\n    let minutes = +segments[1];\n    let seconds = +segments[2];\n\n    return !isNaN(hours) && !isNaN(minutes) && !isNaN(seconds);\n}\n\nfunction unformatTime(inputString) {\n    let segments = inputString.split(\":\");\n\n    let hours = +segments[0];\n    let minutes = +segments[1];\n    let seconds = +segments[2];\n\n    return seconds + 60 * minutes + 3600 * hours;\n}\n\nfunction unformat(inputString, format) {\n    // Avoid circular references\n    const globalState = require(\"./globalState\");\n\n    let delimiters = globalState.currentDelimiters();\n    let currencySymbol = globalState.currentCurrency().symbol;\n    let ordinal = globalState.currentOrdinal();\n    let zeroFormat = globalState.getZeroFormat();\n    let abbreviations = globalState.currentAbbreviations();\n\n    let value = undefined;\n\n    if (typeof inputString === \"string\") {\n        if (matchesTime(inputString, delimiters)) {\n            value = unformatTime(inputString);\n        } else {\n            value = unformatValue(inputString, delimiters, currencySymbol, ordinal, zeroFormat, abbreviations, format);\n        }\n    } else if (typeof inputString === \"number\") {\n        value = inputString;\n    } else {\n        return undefined;\n    }\n\n    if (value === undefined) {\n        return undefined;\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    unformat\n};\n","/*!\n * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nlet unformatter = require(\"./unformatting\");\n\nconst validOutputValues = [\n    \"currency\",\n    \"percent\",\n    \"byte\",\n    \"time\",\n    \"ordinal\",\n    \"number\"\n];\n\nconst validForceAverageValues = [\n    \"trillion\",\n    \"billion\",\n    \"million\",\n    \"thousand\"\n];\n\nconst validNegativeValues = [\n    \"sign\",\n    \"parenthesis\"\n];\n\nconst validAbbreviations = {\n    type: \"object\",\n    children: {\n        thousand: \"string\",\n        million: \"string\",\n        billion: \"string\",\n        trillion: \"string\"\n    }\n};\n\nconst validBaseValues = [\n    \"decimal\",\n    \"binary\",\n    \"general\"\n];\n\nconst validFormat = {\n    output: {\n        type: \"string\",\n        validValues: validOutputValues\n    },\n    base: {\n        type: \"string\",\n        validValues: validBaseValues\n    },\n    characteristic: {\n        type: \"number\",\n        restriction: (number) => number >= 0,\n        message: \"value must be positive\"\n    },\n    prefix: \"string\",\n    postfix: \"string\",\n    forceAverage: {\n        type: \"string\",\n        validValues: validForceAverageValues\n    },\n    average: \"boolean\",\n    totalLength: {\n        type: \"number\",\n        restriction: (number) => number >= 0,\n        message: \"value must be positive\"\n    },\n    mantissa: {\n        type: \"number\",\n        restriction: (number) => number >= 0,\n        message: \"value must be positive\"\n    },\n    optionalMantissa: \"boolean\",\n    optionalCharacteristic: \"boolean\",\n    thousandSeparated: \"boolean\",\n    spaceSeparated: \"boolean\",\n    abbreviations: validAbbreviations,\n    negative: {\n        type: \"string\",\n        validValues: validNegativeValues\n    },\n    forceSign: \"boolean\"\n};\n\nconst validLanguage = {\n    languageTag: \"string\",\n    delimiters: {\n        type: \"object\",\n        children: {\n            thousands: \"string\",\n            decimal: \"string\"\n        }\n    },\n    abbreviations: validAbbreviations,\n    spaceSeparated: \"boolean\",\n    ordinal: \"function\",\n    currency: {\n        type: \"object\",\n        children: {\n            symbol: \"string\",\n            position: \"string\",\n            code: \"string\"\n        }\n    },\n    defaults: \"format\",\n    ordinalDefaults: \"format\",\n    byteDefaults: \"format\",\n    percentageDefaults: \"format\",\n    currencyDefaults: \"format\",\n    formats: {\n        type: \"object\",\n        children: {\n            fourDigits: \"format\",\n            fullWithTwoDecimals: \"format\",\n            fullWithTwoDecimalsNoCurrency: \"format\",\n            fullWithNoDecimals: \"format\"\n        }\n    }\n};\n\n/**\n * Check the validity of the provided input and format.\n * The check is NOT lazy.\n *\n * @param input\n * @param format\n * @return {boolean} True when everything is correct\n */\nfunction validate(input, format) {\n    let validInput = validateInput(input);\n    let isFormatValid = validateFormat(format);\n\n    return validInput && isFormatValid;\n}\n\nfunction validateInput(input) {\n    let value = unformatter.unformat(input);\n\n    return !!value;\n}\n\nfunction validateSpec(toValidate, spec, prefix) {\n    let results = Object.keys(toValidate).map((key) => {\n        if (!spec[key]) {\n            console.error(`${prefix} Invalid key: ${key}`); // eslint-disable-line no-console\n            return false;\n        }\n\n        let value = toValidate[key];\n        let data = spec[key];\n\n        if (typeof data === \"string\") {\n            data = {type: data};\n        }\n\n        if (data.type === \"format\") {\n            let valid = validateSpec(value, validFormat, `[Validate ${key}]`);\n\n            if (!valid) {\n                return false;\n            }\n        } else if (typeof value !== data.type) {\n            console.error(`${prefix} ${key} type mismatched: \"${data.type}\" expected, \"${typeof value}\" provided`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.restriction && !data.restriction(value)) {\n            console.error(`${prefix} ${key} invalid value: ${data.message}`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.validValues && data.validValues.indexOf(value) === -1) {\n            console.error(`${prefix} ${key} invalid value: must be among ${JSON.stringify(data.validValues)}, \"${value}\" provided`); // eslint-disable-line no-console\n            return false;\n        }\n\n        if (data.children) {\n            let valid = validateSpec(value, data.children, `[Validate ${key}]`);\n\n            if (!valid) {\n                return false;\n            }\n        }\n\n        return true;\n    });\n\n    return results.reduce((acc, current) => {\n        return acc && current;\n    }, true);\n}\n\nfunction validateFormat(format) {\n    return validateSpec(format, validFormat, \"[Validate format]\");\n}\n\nfunction validateLanguage(data) {\n    return validateSpec(data, validLanguage, \"[Validate language]\");\n}\n\nmodule.exports = {\n    validate,\n    validateFormat,\n    validateInput,\n    validateLanguage\n};\n"]}